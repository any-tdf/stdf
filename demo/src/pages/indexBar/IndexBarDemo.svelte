<!-- IndexBar Demo -->
<script>
    import { IndexBar, Button, Toast } from 'stdf';

    const addressList = [
        { index: 'A', title: 'A', child: [{ text: 'æ¾³é—¨' }, { text: 'å®‰å®' }, { text: 'å®‰åº†' }, { text: 'éå±±' }] },
        { index: 'B', title: 'B', child: [{ text: 'åŒ—äº¬' }, { text: 'ä¿å®š' }, { text: 'åŒ…å¤´' }, { text: 'å®é¸¡' }] },
        { index: 'C', title: 'C', child: [{ text: 'æ‰¿å¾·' }, { text: 'æ²§å·' }, { text: 'èµ¤å³°' }] },
        { index: 'D', title: 'D', child: [{ text: 'å¤§åŒ' }, { text: 'å¤§è¿' }, { text: 'å¤§ç†' }] },
        { index: 'E', title: 'E', child: [{ text: 'æ©æ–½' }, { text: 'é„‚å°”å¤šæ–¯' }, { text: 'å³¨çœ‰å±±' }] },
        { index: 'F', title: 'F', child: [{ text: 'æŠšé¡º' }, { text: 'ä½›å±±' }, { text: 'ç¦æ³‰' }] },
        { index: 'G', title: 'G', child: [{ text: 'ä¸ªæ—§' }, { text: 'æ¡‚æ—' }, { text: 'èµ£å·' }] },
        { index: 'H', title: 'H', child: [{ text: 'é‚¯éƒ¸' }, { text: 'å‘¼å’Œæµ©ç‰¹' }, { text: 'å‘¼ä¼¦è´å°”' }] },
        { index: 'J', title: 'J', child: [{ text: 'å‰æ—' }, { text: 'é…’æ³‰' }, { text: 'æ™‹æ±Ÿ' }] },
        { index: 'K', title: 'K', child: [{ text: 'æ˜†æ˜' }, { text: 'æ˜†å±±' }, { text: 'å¼€å°' }] },
        { index: 'L', title: 'L', child: [{ text: 'æ‹‰è¨' }, { text: 'å…°å·' }, { text: 'æ³¸å·' }] },
        { index: 'M', title: 'M', child: [{ text: 'ç»µé˜³' }, { text: 'é©¬éå±±' }, { text: 'ç‰¡ä¸¹æ±Ÿ' }] },
        { index: 'N', title: 'N', child: [{ text: 'å—æ˜Œ' }, { text: 'å—äº¬' }, { text: 'å®æ³¢' }] },
        { index: 'P', title: 'P', child: [{ text: 'è†ç”°' }, { text: 'æ”€æèŠ±' }, { text: 'å¹³é¡¶å±±' }] },
        { index: 'Q', title: 'Q', child: [{ text: 'æ›²é–' }, { text: 'é’å²›' }, { text: 'é½é½å“ˆå°”' }] },
        { index: 'R', title: 'R', child: [{ text: 'ç‘ä¸½' }, { text: 'ç‘å®‰' }, { text: 'ç‘é‡‘' }] },
        { index: 'S', title: 'S', child: [{ text: 'ä¸‰äºš' }, { text: 'ä¸Šæµ·' }, { text: 'æ·±åœ³' }] },
        { index: 'T', title: 'T', child: [{ text: 'å°å·' }, { text: 'å¤ªåŸ' }, { text: 'å¤©æ´¥' }] },
        { index: 'W', title: 'W', child: [{ text: 'æ­¦æ±‰' }, { text: 'æ— é”¡' }, { text: 'èŠœæ¹–' }] },
        { index: 'X', title: 'X', child: [{ text: 'è¥¿å®‰' }, { text: 'å¦é—¨' }, { text: 'å®£å¨' }] },
        { index: 'Y', title: 'Y', child: [{ text: 'ä¹‰ä¹Œ' }, { text: 'é“¶å·' }, { text: 'ç‰æºª' }] },
        { index: 'Z', title: 'Z', child: [{ text: 'æ˜­é€š' }, { text: 'éµä¹‰' }, { text: 'å¼ å®¶ç•Œ' }] },
    ];
    const emojiList = [
        { index: 'ğŸ˜€', title: 'è¡¨æƒ…ä¸æƒ…æ„Ÿ', child: [{ text: 'ğŸ˜‚' }, { text: 'ğŸ¥°' }, { text: 'ğŸ¥±' }, { text: 'ğŸ§' }] },
        { index: 'ğŸ‘‹', title: 'äººç‰©ä¸èº«ä½“', child: [{ text: 'ğŸ‘Œ' }, { text: 'ğŸ¤' }, { text: 'ğŸ‘¨â€ğŸ’»' }, { text: 'ğŸ’ª' }] },
        { index: 'ğŸµ', title: 'åŠ¨ç‰©ä¸è‡ªç„¶', child: [{ text: 'ğŸ¦„' }, { text: 'ğŸŒ±' }, { text: 'ğŸ¦' }, { text: 'ğŸ¶' }] },
        { index: 'ğŸ', title: 'é£Ÿç‰©ä¸é¥®æ–™', child: [{ text: 'ğŸ‘' }, { text: 'ğŸ' }, { text: 'ğŸ½ï¸' }, { text: 'ğŸ©' }] },
        { index: 'ğŸŒ', title: 'æ—…è¡Œä¸åœ°ç†', child: [{ text: 'ğŸ”ï¸' }, { text: 'ğŸš†' }, { text: 'âœˆï¸' }, { text: 'ğŸ›µ' }] },
        { index: 'ğŸ†', title: 'æ´»åŠ¨', child: [{ text: 'âš½' }, { text: 'ğŸ¨' }, { text: 'ğŸ€' }, { text: 'ğŸ§¨' }] },
        { index: 'ğŸ“±', title: 'ç‰©å“', child: [{ text: 'ğŸ©' }, { text: 'ğŸ’»' }, { text: 'ğŸ’' }, { text: 'ğŸ“–' }] },
        { index: 'âš ï¸', title: 'ç¬¦å·æ ‡å¿—', child: [{ text: 'ğŸš«' }, { text: 'âš›ï¸' }, { text: 'ğŸ›„' }, { text: 'ğŸ”±' }] },
        { index: 'ğŸ', title: 'æ——å¸œ', child: [{ text: 'ğŸ‡¨ğŸ‡³' }, { text: 'ğŸ‡ºğŸ‡¸' }, { text: 'ğŸ‡§ğŸ‡»' }, { text: 'ğŸ‡¦ğŸ‡¹' }] },
    ];
    const movieTVList = [
        {
            index: 'ä¸‰',
            title: 'ä¸‰ä½“',
            child: [
                { text: 'åœ°çƒå¾€äº‹' },
                { text: 'é»‘æš—æ£®æ—' },
                { text: 'æ­»ç¥æ°¸ç”Ÿ' },
                { text: 'ç§‘å­¦è¾¹ç•Œ' },
                { text: 'å°„æ‰‹å’Œå†œåœºä¸»' },
                { text: 'å¯‚é™çš„æ˜¥å¤©' },
                { text: 'å®‡å®™é—ªçƒ' },
                { text: 'åœ°çƒå›å†›' },
                { text: 'å¤ç­è¡ŒåŠ¨' },
                { text: 'æ™ºå­' },
                { text: 'é¢å£è€…' },
                { text: 'å’’è¯­' },
                { text: 'é»‘æš—æ£®æ—' },
                { text: 'å±æœºçºªå…ƒ' },
                { text: 'å¨æ…‘çºªå…ƒ' },
                { text: 'å¹¿æ’­çºªå…ƒ' },
                { text: 'æ©ä½“çºªå…ƒ' },
                { text: 'é“¶æ²³çºªå…ƒ' },
                { text: 'æ—¶é—´å¼€å§‹' },
                { text: 'æ—¶é—´ä¹‹å¤–ï¼Œæˆ‘ä»¬çš„å®‡å®™' },
            ],
        },
        {
            index: 'æµ',
            title: 'æµæµªåœ°çƒ',
            child: [
                { text: 'äººç±»çš„å‹‡æ°”å’Œåšæ¯…å¿…å°†è¢«é•Œåˆ»åœ¨æ˜Ÿç©ºä¹‹ä¸‹ã€‚' },
                { text: 'å¸Œæœ›æ˜¯åƒé’»çŸ³ä¸€æ ·çè´µçš„ä¸œè¥¿ï¼' },
                { text: 'å¸Œæœ›ï¼Œå¸Œæœ›æ˜¯æˆ‘ä»¬å”¯ä¸€å›å®¶çš„æ–¹å‘ã€‚' },
                { text: 'è®©äººç±»æ°¸è¿œä¿æŒç†æ™ºï¼Œæ˜¯ä¸€ç§å¥¢æ±‚ã€‚' },
                { text: 'é“è·¯åƒä¸‡æ¡ï¼Œå®‰å…¨ç¬¬ä¸€æ¡ï¼›è¡Œè½¦ä¸è§„èŒƒï¼Œäº²äººä¸¤è¡Œæ³ªï¼' },
                { text: 'é‚£æ—¶å€™äººä»¬è¿˜æ²¡æ³¨æ„åˆ°å¤ªé˜³ï¼Œäººä»¬æ›´å–œæ¬¢å«åšé’±çš„ä¸œè¥¿ã€‚' },
                { text: 'ä¸ºäº†æˆ‘ä»¬çš„å­©å­ï¼Œæ²¡æœ‰ä»€ä¹ˆä¸èƒ½å¤±å»çš„äº†' },
                { text: 'mossæ²¡æœ‰å›é€ƒ!' },
                { text: 'ç«çŸ³æ²¡äº†ï¼Œæˆ‘è€å©†å­©å­å…¨ä»–å¦ˆç™½æ­»äº†ï¼' },
            ],
        },
        {
            index: 'ä»™',
            title: 'ä»™å‰‘å¥‡ä¾ ä¼ ',
            child: [
                { text: 'æ—¢ä¸å›å¤´ï¼Œä½•å¿…ä¸å¿˜ã€‚æ—¢ç„¶æ— ç¼˜ï¼Œä½•å¿…èª“è¨€ã€‚' },
                { text: 'æ²¡æœ‰å€¼å¾—ä¸å€¼å¾—ï¼Œåªæœ‰æ„¿æ„ä¸æ„¿æ„ã€‚' },
                { text: 'ä¸æ›¾å¾—åˆ°ï¼Œè°ˆä½•æ”¾ä¸‹ã€‚æ—¢å·²å¾—åˆ°ï¼Œåˆå¦‚ä½•æ”¾ä¸‹ã€‚' },
                { text: 'è½®å›çš„æ˜¯æ•…äººï¼Œä¸å˜çš„æ˜¯åˆå¿ƒï¼' },
                { text: 'æ˜å¤•ä½•å¤•ï¼Œå›å·²é™Œè·¯ã€‚' },
                { text: 'æˆ‘æ›¾ç»ä¹Ÿæ‹¥æœ‰è¿‡çˆ±ï¼Œåªæ˜¯ï¼Œæˆ‘æ”¾å¼ƒäº†ã€‚' },
                { text: 'ä½ ä»¥ä¸ºæ¯å¤©çœ‹åˆ°çš„ä¸œè¥¿ï¼Œå°±ä¼šæŠ“å¾—ä½å—ï¼Ÿ' },
                { text: 'ä¸–æœ‰æ— æƒ…äººï¼Œå´æœ‰ç—´æƒ…å¦–ã€‚' },
                { text: 'å›å­ï¼Œå°äººï¼Œçš†åœ¨ä¸€å¿µæ€é‡ã€‚' },
                { text: 'åˆ°å®¶äº†ï¼Œä¸€å®šè¦å«é†’æˆ‘ï¼Œæˆ‘æ€•æˆ‘é†’ä¸è¿‡æ¥ã€‚' },
                { text: 'å¦‚æœå¾—é“å°±æ˜¯ç‰ºç‰²æ‰€æœ‰äººæ¥æˆå…¨è‡ªå·±ï¼Œæˆ‘å®æ„¿æ‰§è¿·ä¸æ‚Ÿã€‚' },
                { text: 'æˆ‘ä»¬ä»Šæ—¥ä¸€åˆ«ï¼Œè®©æˆ‘ä»¬åå¹´åå†ç›¸è§ï¼Œä¸è§ä¸æ•£ï¼' },
                { text: 'ä¸€æ¯æ„ç»ªï¼Œå‡ æ®µæƒ…ç¼˜ï¼Œè«è¿‡ï¼Œä¸å›å¯¹é…’å½“æ­Œã€‚' },
            ],
        },
    ];
    const navHeight = 48;
    const bottomHeight = 50;
    const height = window.innerHeight - navHeight - bottomHeight;
    let radius = 'base';
    let dataFlag = 0;
    let scrollAlign = true;
    let injClassList = [];
    const changeRadiusFun = () => {
        radius = radius === 'base' ? 'full' : radius === 'full' ? 'none' : 'base';
    };
    const changeListFun = () => {
        dataFlag = dataFlag === 0 ? 1 : dataFlag === 1 ? 2 : 0;
    };
    const changeScrollAlignFun = () => {
        scrollAlign = !scrollAlign;
    };
    const changeClassFun = () => {
        injClassList = !injClassList.length ? ['!text-3xl text-center', 'text-xs text-center !py-1'] : [];
    };
    let visible = false;
    let toastObj = { index: 0, group: {}, childIndex: 0, child: {} };
</script>

{#if dataFlag === 0}
    <IndexBar
        data={addressList}
        {radius}
        {height}
        {scrollAlign}
        titleInjClass={injClassList[0]}
        textInjClass={injClassList[1]}
        top={navHeight}
        on:clickchild={e => {
            toastObj = e.detail;
            visible = true;
        }}
    />
{:else if dataFlag === 1}
    <IndexBar
        data={emojiList}
        {radius}
        {height}
        {scrollAlign}
        titleInjClass={injClassList[0]}
        textInjClass={injClassList[1]}
        top={navHeight}
        on:clickchild={e => {
            toastObj = e.detail;
            visible = true;
        }}
    />
{:else}
    <IndexBar
        data={movieTVList}
        {radius}
        {height}
        {scrollAlign}
        titleInjClass={injClassList[0]}
        textInjClass={injClassList[1]}
        top={navHeight}
        on:clickchild={e => {
            toastObj = e.detail;
            visible = true;
        }}
    />
{/if}
<Toast
    bind:visible
    message={`ç‚¹å‡»äº†ç¬¬ ${toastObj.index + 1} ç»„ï¼ˆ${toastObj.group.title}ï¼‰ä¸­çš„ç¬¬ ${toastObj.childIndex + 1} é¡¹ï¼ˆ${toastObj.child.text}ï¼‰`}
/>

<div class="sticky flex justify-between bottom-0 px-2 z-10 bg-white/90 dark:bg-black/90">
    <Button fill="lineTheme" size="auto" injClass="text-xs px-2" on:click={changeListFun}>åˆ‡æ¢æ•°æ®</Button>
    <Button fill="lineTheme" size="auto" injClass="text-xs px-2" on:click={changeScrollAlignFun}>
        {scrollAlign ? 'å…³é—­' : 'å¼€å¯'}æ»šåŠ¨å¯¹é½
    </Button>
    <Button fill="lineTheme" size="auto" injClass="text-xs px-2" on:click={changeRadiusFun}>åˆ‡æ¢åœ†è§’</Button>
    <Button fill="lineTheme" size="auto" injClass="text-xs px-2" on:click={changeClassFun}>åˆ‡æ¢æ ·å¼</Button>
</div>
