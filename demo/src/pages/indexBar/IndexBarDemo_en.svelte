<!-- IndexBar Demo -->
<script>
    import { IndexBar, Button, Toast } from '../../../../packages/stdf/components';

    const addressList = [
        { index: 'A', title: 'A', child: [{ text: 'Macau' }, { text: 'Anning' }, { text: 'Anqing' }, { text: 'Anshan' }] },
        { index: 'B', title: 'B', child: [{ text: 'Beijing' }, { text: 'Baoding' }, { text: 'Baotou' }, { text: 'Baoji' }] },
        { index: 'C', title: 'C', child: [{ text: 'Chengde' }, { text: 'Cangzhou' }, { text: 'Chifeng' }] },
        { index: 'D', title: 'D', child: [{ text: 'Datong' }, { text: 'Dalian' }, { text: 'Dali' }] },
        { index: 'E', title: 'E', child: [{ text: 'Enshi' }, { text: 'Ordos' }, { text: 'Emeishan' }] },
        { index: 'F', title: 'F', child: [{ text: 'Fushun' }, { text: 'Foshan' }, { text: 'Fuquan' }] },
        { index: 'G', title: 'G', child: [{ text: 'Gejiu' }, { text: 'Guilin' }, { text: 'Ganzhou' }] },
        { index: 'H', title: 'H', child: [{ text: 'Handan' }, { text: 'Hohhot' }, { text: 'Hulunbuir' }] },
        { index: 'J', title: 'J', child: [{ text: 'Jilin' }, { text: 'Jiuquan' }, { text: 'Jinjiang' }] },
        { index: 'K', title: 'K', child: [{ text: 'Kunming' }, { text: 'Kunshan' }, { text: 'Kaifeng' }] },
        { index: 'L', title: 'L', child: [{ text: 'Lhasa' }, { text: 'Lanzhou' }, { text: 'Luzhou' }] },
        { index: 'M', title: 'M', child: [{ text: 'Mianyang' }, { text: 'Maans' }, { text: 'Mudanjiang' }] },
        { index: 'N', title: 'N', child: [{ text: 'Nanchang' }, { text: 'Nanjing' }, { text: 'Ningbo' }] },
        { index: 'P', title: 'P', child: [{ text: 'Putian' }, { text: 'Panzhihua' }, { text: 'Pingdingshan' }] },
        { index: 'Q', title: 'Q', child: [{ text: 'Qujing' }, { text: 'Qingdao' }, { text: 'Qiqihar' }] },
        { index: 'R', title: 'R', child: [{ text: 'Ruili' }, { text: 'Ruian' }, { text: 'Ruijin' }] },
        { index: 'S', title: 'S', child: [{ text: 'Sanya' }, { text: 'Shanghai' }, { text: 'Shenzhen' }] },
        { index: 'T', title: 'T', child: [{ text: 'Taizhou' }, { text: 'Taiyuan' }, { text: 'Tianjin' }] },
        { index: 'W', title: 'W', child: [{ text: 'Wuhan' }, { text: 'Wuxi' }, { text: 'Wuhu' }] },
        { index: 'X', title: 'X', child: [{ text: 'Xi an' }, { text: 'Xiamen' }, { text: 'Xuanwei' }] },
        { index: 'Y', title: 'Y', child: [{ text: 'Yiwu' }, { text: 'Yinchuan' }, { text: 'Yuxi' }] },
        { index: 'Z', title: 'Z', child: [{ text: 'Zhaotong' }, { text: 'Zunyi' }, { text: 'Zhangjiajie' }] },
    ];

    const emojiList = [
        { index: 'ðŸ˜€', title: 'Smileys & Emotion', child: [{ text: 'ðŸ˜‚' }, { text: 'ðŸ¥°' }, { text: 'ðŸ¥±' }, { text: 'ðŸ§' }] },
        { index: 'ðŸ‘‹', title: 'People & Body', child: [{ text: 'ðŸ‘Œ' }, { text: 'ðŸ¤' }, { text: 'ðŸ‘¨â€ðŸ’»' }, { text: 'ðŸ’ª' }] },
        { index: 'ðŸµ', title: 'Animals & Nature', child: [{ text: 'ðŸ¦„' }, { text: 'ðŸŒ±' }, { text: 'ðŸ¦' }, { text: 'ðŸ¶' }] },
        { index: 'ðŸŽ', title: 'Food & Drink', child: [{ text: 'ðŸ‘' }, { text: 'ðŸž' }, { text: 'ðŸ½ï¸' }, { text: 'ðŸ©' }] },
        { index: 'ðŸŒ', title: 'Travel & Places', child: [{ text: 'ðŸ”ï¸' }, { text: 'ðŸš†' }, { text: 'âœˆï¸' }, { text: 'ðŸ›µ' }] },
        { index: 'ðŸ†', title: 'Activities', child: [{ text: 'âš½' }, { text: 'ðŸŽ¨' }, { text: 'ðŸ€' }, { text: 'ðŸ§¨' }] },
        { index: 'ðŸ“±', title: 'Objects', child: [{ text: 'ðŸŽ©' }, { text: 'ðŸ’»' }, { text: 'ðŸŽ’' }, { text: 'ðŸ“–' }] },
        { index: 'âš ï¸', title: 'Symbols', child: [{ text: 'ðŸš«' }, { text: 'âš›ï¸' }, { text: 'ðŸ›„' }, { text: 'ðŸ”±' }] },
        { index: 'ðŸ', title: 'Flags', child: [{ text: 'ðŸ‡¨ðŸ‡³' }, { text: 'ðŸ‡ºðŸ‡¸' }, { text: 'ðŸ‡§ðŸ‡»' }, { text: 'ðŸ‡¦ðŸ‡¹' }] },
    ];
    const movieTVList = [
        {
            index: 'ä¸‰',
            title: 'ä¸‰ä½“',
            child: [
                { text: 'åœ°çƒå¾€äº‹' },
                { text: 'é»‘æš—æ£®æž—' },
                { text: 'æ­»ç¥žæ°¸ç”Ÿ' },
                { text: 'ç§‘å­¦è¾¹ç•Œ' },
                { text: 'å°„æ‰‹å’Œå†œåœºä¸»' },
                { text: 'å¯‚é™çš„æ˜¥å¤©' },
                { text: 'å®‡å®™é—ªçƒ' },
                { text: 'åœ°çƒå›å†›' },
                { text: 'å¤ç­è¡ŒåŠ¨' },
                { text: 'æ™ºå­' },
                { text: 'é¢å£è€…' },
                { text: 'å’’è¯­' },
                { text: 'é»‘æš—æ£®æž—' },
                { text: 'å±æœºçºªå…ƒ' },
                { text: 'å¨æ…‘çºªå…ƒ' },
                { text: 'å¹¿æ’­çºªå…ƒ' },
                { text: 'æŽ©ä½“çºªå…ƒ' },
                { text: 'é“¶æ²³çºªå…ƒ' },
                { text: 'æ—¶é—´å¼€å§‹' },
                { text: 'æ—¶é—´ä¹‹å¤–ï¼Œæˆ‘ä»¬çš„å®‡å®™' },
            ],
        },
        {
            index: 'æµ',
            title: 'æµæµªåœ°çƒ',
            child: [
                { text: 'äººç±»çš„å‹‡æ°”å’Œåšæ¯…å¿…å°†è¢«é•Œåˆ»åœ¨æ˜Ÿç©ºä¹‹ä¸‹ã€‚' },
                { text: 'å¸Œæœ›æ˜¯åƒé’»çŸ³ä¸€æ ·çè´µçš„ä¸œè¥¿ï¼' },
                { text: 'å¸Œæœ›ï¼Œå¸Œæœ›æ˜¯æˆ‘ä»¬å”¯ä¸€å›žå®¶çš„æ–¹å‘ã€‚' },
                { text: 'è®©äººç±»æ°¸è¿œä¿æŒç†æ™ºï¼Œæ˜¯ä¸€ç§å¥¢æ±‚ã€‚' },
                { text: 'é“è·¯åƒä¸‡æ¡ï¼Œå®‰å…¨ç¬¬ä¸€æ¡ï¼›è¡Œè½¦ä¸è§„èŒƒï¼Œäº²äººä¸¤è¡Œæ³ªï¼' },
                { text: 'é‚£æ—¶å€™äººä»¬è¿˜æ²¡æ³¨æ„åˆ°å¤ªé˜³ï¼Œäººä»¬æ›´å–œæ¬¢å«åšé’±çš„ä¸œè¥¿ã€‚' },
                { text: 'ä¸ºäº†æˆ‘ä»¬çš„å­©å­ï¼Œæ²¡æœ‰ä»€ä¹ˆä¸èƒ½å¤±åŽ»çš„äº†' },
                { text: 'mossæ²¡æœ‰å›é€ƒ!' },
                { text: 'ç«çŸ³æ²¡äº†ï¼Œæˆ‘è€å©†å­©å­å…¨ä»–å¦ˆç™½æ­»äº†ï¼' },
            ],
        },
        {
            index: 'ä»™',
            title: 'ä»™å‰‘å¥‡ä¾ ä¼ ',
            child: [
                { text: 'æ—¢ä¸å›žå¤´ï¼Œä½•å¿…ä¸å¿˜ã€‚æ—¢ç„¶æ— ç¼˜ï¼Œä½•å¿…èª“è¨€ã€‚' },
                { text: 'æ²¡æœ‰å€¼å¾—ä¸å€¼å¾—ï¼Œåªæœ‰æ„¿æ„ä¸æ„¿æ„ã€‚' },
                { text: 'ä¸æ›¾å¾—åˆ°ï¼Œè°ˆä½•æ”¾ä¸‹ã€‚æ—¢å·²å¾—åˆ°ï¼Œåˆå¦‚ä½•æ”¾ä¸‹ã€‚' },
                { text: 'è½®å›žçš„æ˜¯æ•…äººï¼Œä¸å˜çš„æ˜¯åˆå¿ƒï¼' },
                { text: 'æ˜Žå¤•ä½•å¤•ï¼Œå›å·²é™Œè·¯ã€‚' },
                { text: 'æˆ‘æ›¾ç»ä¹Ÿæ‹¥æœ‰è¿‡çˆ±ï¼Œåªæ˜¯ï¼Œæˆ‘æ”¾å¼ƒäº†ã€‚' },
                { text: 'ä½ ä»¥ä¸ºæ¯å¤©çœ‹åˆ°çš„ä¸œè¥¿ï¼Œå°±ä¼šæŠ“å¾—ä½å—ï¼Ÿ' },
                { text: 'ä¸–æœ‰æ— æƒ…äººï¼Œå´æœ‰ç—´æƒ…å¦–ã€‚' },
                { text: 'å›å­ï¼Œå°äººï¼Œçš†åœ¨ä¸€å¿µæ€é‡ã€‚' },
                { text: 'åˆ°å®¶äº†ï¼Œä¸€å®šè¦å«é†’æˆ‘ï¼Œæˆ‘æ€•æˆ‘é†’ä¸è¿‡æ¥ã€‚' },
                { text: 'å¦‚æžœå¾—é“å°±æ˜¯ç‰ºç‰²æ‰€æœ‰äººæ¥æˆå…¨è‡ªå·±ï¼Œæˆ‘å®æ„¿æ‰§è¿·ä¸æ‚Ÿã€‚' },
                { text: 'æˆ‘ä»¬ä»Šæ—¥ä¸€åˆ«ï¼Œè®©æˆ‘ä»¬åå¹´åŽå†ç›¸è§ï¼Œä¸è§ä¸æ•£ï¼' },
                { text: 'ä¸€æ¯æ„ç»ªï¼Œå‡ æ®µæƒ…ç¼˜ï¼ŒèŽ«è¿‡ï¼Œä¸Žå›å¯¹é…’å½“æ­Œã€‚' },
            ],
        },
    ];
    const navHeight = 48;
    const bottomHeight = 50;
    const height = window.innerHeight - navHeight - bottomHeight;
    let radius = 'base';
    let dataFlag = 0;
    let scrollAlign = true;
    let injClassList = [];
    const changeRadiusFun = () => {
        radius = radius === 'base' ? 'full' : radius === 'full' ? 'none' : 'base';
    };
    const changeListFun = () => {
        dataFlag = dataFlag === 0 ? 1 : dataFlag === 1 ? 2 : 0;
    };
    const changeScrollAlignFun = () => {
        scrollAlign = !scrollAlign;
    };
    const changeClassFun = () => {
        injClassList = !injClassList.length ? ['!text-3xl text-center', 'text-xs text-center !py-1'] : [];
    };
    let visible = false;
    let toastObj = { index: 0, group: {}, childIndex: 0, child: {} };
</script>

{#if dataFlag === 0}
    <IndexBar
        data={addressList}
        {radius}
        {height}
        {scrollAlign}
        titleInjClass={injClassList[0]}
        textInjClass={injClassList[1]}
        top={navHeight}
        on:clickchild={e => {
            toastObj = e.detail;
            visible = true;
        }}
    />
{:else if dataFlag === 1}
    <IndexBar
        data={emojiList}
        {radius}
        {height}
        {scrollAlign}
        titleInjClass={injClassList[0]}
        textInjClass={injClassList[1]}
        top={navHeight}
        on:clickchild={e => {
            toastObj = e.detail;
            visible = true;
        }}
    />
{:else}
    <IndexBar
        data={movieTVList}
        {radius}
        {height}
        {scrollAlign}
        titleInjClass={injClassList[0]}
        textInjClass={injClassList[1]}
        top={navHeight}
        on:clickchild={e => {
            toastObj = e.detail;
            visible = true;
        }}
    />
{/if}
<Toast
    bind:visible
    message={`Clicked ${toastObj.index + 1} group(${toastObj.group.title}) ${toastObj.childIndex + 1} item(${toastObj.child.text})`}
/>

<div class="sticky flex justify-between bottom-0 px-2 z-10 bg-white/90 dark:bg-black/90">
    <Button fill="lineTheme" size="auto" injClass="text-xs px-2" on:click={changeListFun}>Switch data</Button>
    <Button fill="lineTheme" size="auto" injClass="text-xs px-2" on:click={changeScrollAlignFun}>
        {scrollAlign ? 'open' : 'close'} Align
    </Button>
    <Button fill="lineTheme" size="auto" injClass="text-xs px-2" on:click={changeRadiusFun}>Switch rounded</Button>
    <Button fill="lineTheme" size="auto" injClass="text-xs px-2" on:click={changeClassFun}>Switch style</Button>
</div>
