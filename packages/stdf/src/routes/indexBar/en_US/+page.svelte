<!-- IndexBar Demo -->
<script lang="ts">
	import { IndexBar, Button, Toast } from '$lib/index.js';
	import type { IndexBarItemProps } from '$lib/types/index.js';

	const addressList: IndexBarItemProps[] = [
		{ index: 'A', title: 'A', child: ['Macau', 'Anning', 'Anqing', 'Anshan'] },
		{ index: 'B', title: 'B', child: ['Beijing', 'Baoding', 'Baotou', 'Baoji'] },
		{ index: 'C', title: 'C', child: ['Chengde', 'Cangzhou', 'Chifeng'] },
		{ index: 'D', title: 'D', child: ['Datong', 'Dalian', 'Dali'] },
		{ index: 'E', title: 'E', child: ['Enshi', 'Ordos', 'Emeishan'] },
		{ index: 'F', title: 'F', child: ['Fushun', 'Foshan', 'Fuquan'] },
		{ index: 'G', title: 'G', child: ['Gejiu', 'Guilin', 'Ganzhou'] },
		{ index: 'H', title: 'H', child: ['Handan', 'Hohhot', 'Hulunbuir'] },
		{ index: 'J', title: 'J', child: ['Jilin', 'Jiuquan', 'Jinjiang'] },
		{ index: 'K', title: 'K', child: ['Kunming', 'Kunshan', 'Kaifeng'] },
		{ index: 'L', title: 'L', child: ['Lhasa', 'Lanzhou', 'Luzhou'] },
		{ index: 'M', title: 'M', child: ['Mianyang', 'Maans', 'Mudanjiang'] },
		{ index: 'N', title: 'N', child: ['Nanchang', 'Nanjing', 'Ningbo'] },
		{ index: 'P', title: 'P', child: ['Putian', 'Panzhihua', 'Pingdingshan'] },
		{ index: 'Q', title: 'Q', child: ['Qujing', 'Qingdao', 'Qiqihar'] },
		{ index: 'R', title: 'R', child: ['Ruili', 'Ruian', 'Ruijin'] },
		{ index: 'S', title: 'S', child: ['Sanya', 'Shanghai', 'Shenzhen'] },
		{ index: 'T', title: 'T', child: ['Taizhou', 'Taiyuan', 'Tianjin'] },
		{ index: 'W', title: 'W', child: ['Wuhan', 'Wuxi', 'Wuhu'] },
		{ index: 'X', title: 'X', child: ['Xi an', 'Xiamen', 'Xuanwei'] },
		{ index: 'Y', title: 'Y', child: ['Yiwu', 'Yinchuan', 'Yuxi'] },
		{ index: 'Z', title: 'Z', child: ['Zhaotong', 'Zunyi', 'Zhangjiajie'] }
	];

	const emojiList: IndexBarItemProps[] = [
		{ index: 'ðŸ˜€', title: 'Smileys & Emotion', child: ['ðŸ˜‚', 'ðŸ¥°', 'ðŸ¥±', 'ðŸ§'] },
		{ index: 'ðŸ‘‹', title: 'People & Body', child: ['ðŸ‘Œ', 'ðŸ¤', 'ðŸ‘¨â€ðŸ’»', 'ðŸ’ª'] },
		{ index: 'ðŸµ', title: 'Animals & Nature', child: ['ðŸ¦„', 'ðŸŒ±', 'ðŸ¦', 'ðŸ¶'] },
		{ index: 'ðŸŽ', title: 'Food & Drink', child: ['ðŸ‘', 'ðŸž', 'ðŸ½ï¸', 'ðŸ©'] },
		{ index: 'ðŸŒ', title: 'Travel & Places', child: ['ðŸ”ï¸', 'ðŸš†', 'âœˆï¸', 'ðŸ›µ'] },
		{ index: 'ðŸ†', title: 'Activities', child: ['âš½', 'ðŸŽ¨', 'ðŸ€', 'ðŸ§¨'] },
		{ index: 'ðŸ“±', title: 'Objects', child: ['ðŸŽ©', 'ðŸ’»', 'ðŸŽ’', 'ðŸ“–'] },
		{ index: 'âš ï¸', title: 'Symbols', child: ['ðŸš«', 'âš›ï¸', 'ðŸ›„', 'ðŸ”±'] },
		{ index: 'ðŸ', title: 'Flags', child: ['ðŸ‡¨ðŸ‡³', 'ðŸ‡ºðŸ‡¸', 'ðŸ‡§ðŸ‡»', 'ðŸ‡¦ðŸ‡¹'] }
	];
	const movieTVList: IndexBarItemProps[] = [
		{
			index: 'ä¸‰',
			title: 'ä¸‰ä½“',
			child: [
				'åœ°çƒå¾€äº‹',
				'é»‘æš—æ£®æž—',
				'æ­»ç¥žæ°¸ç”Ÿ',
				'ç§‘å­¦è¾¹ç•Œ',
				'å°„æ‰‹å’Œå†œåœºä¸»',
				'å¯‚é™çš„æ˜¥å¤©',
				'å®‡å®™é—ªçƒ',
				'åœ°çƒå›å†›',
				'å¤ç­è¡ŒåŠ¨',
				'æ™ºå­',
				'é¢å£è€…',
				'å’’è¯­',
				'é»‘æš—æ£®æž—',
				'å±æœºçºªå…ƒ',
				'å¨æ…‘çºªå…ƒ',
				'å¹¿æ’­çºªå…ƒ',
				'æŽ©ä½“çºªå…ƒ',
				'é“¶æ²³çºªå…ƒ',
				'æ—¶é—´å¼€å§‹',
				'æ—¶é—´ä¹‹å¤–ï¼Œæˆ‘ä»¬çš„å®‡å®™'
			]
		},
		{
			index: 'æµ',
			title: 'æµæµªåœ°çƒ',
			child: [
				'äººç±»çš„å‹‡æ°”å’Œåšæ¯…å¿…å°†è¢«é•Œåˆ»åœ¨æ˜Ÿç©ºä¹‹ä¸‹ã€‚',
				'å¸Œæœ›æ˜¯åƒé’»çŸ³ä¸€æ ·çè´µçš„ä¸œè¥¿ï¼',
				'å¸Œæœ›ï¼Œå¸Œæœ›æ˜¯æˆ‘ä»¬å”¯ä¸€å›žå®¶çš„æ–¹å‘ã€‚',
				'è®©äººç±»æ°¸è¿œä¿æŒç†æ™ºï¼Œæ˜¯ä¸€ç§å¥¢æ±‚ã€‚',
				'é“è·¯åƒä¸‡æ¡ï¼Œå®‰å…¨ç¬¬ä¸€æ¡ï¼›è¡Œè½¦ä¸è§„èŒƒï¼Œäº²äººä¸¤è¡Œæ³ªï¼',
				'é‚£æ—¶å€™äººä»¬è¿˜æ²¡æ³¨æ„åˆ°å¤ªé˜³ï¼Œäººä»¬æ›´å–œæ¬¢å«åšé’±çš„ä¸œè¥¿ã€‚',
				'ä¸ºäº†æˆ‘ä»¬çš„å­©å­ï¼Œæ²¡æœ‰ä»€ä¹ˆä¸èƒ½å¤±åŽ»çš„äº†',
				'moss æ²¡æœ‰å›é€ƒï¼',
				'ç«çŸ³æ²¡äº†ï¼Œæˆ‘è€å©†å­©å­å…¨ä»–å¦ˆç™½æ­»äº†ï¼'
			]
		},
		{
			index: 'ä»™',
			title: 'ä»™å‰‘å¥‡ä¾ ä¼ ',
			child: [
				'æ—¢ä¸å›žå¤´ï¼Œä½•å¿…ä¸å¿˜ã€‚æ—¢ç„¶æ— ç¼˜ï¼Œä½•å¿…èª“è¨€ã€‚',
				'æ²¡æœ‰å€¼å¾—ä¸å€¼å¾—ï¼Œåªæœ‰æ„¿æ„ä¸æ„¿æ„ã€‚',
				'ä¸æ›¾å¾—åˆ°ï¼Œè°ˆä½•æ”¾ä¸‹ã€‚æ—¢å·²å¾—åˆ°ï¼Œåˆå¦‚ä½•æ”¾ä¸‹ã€‚',
				'è½®å›žçš„æ˜¯æ•…äººï¼Œä¸å˜çš„æ˜¯åˆå¿ƒï¼',
				'æ˜Žå¤•ä½•å¤•ï¼Œå›å·²é™Œè·¯ã€‚',
				'æˆ‘æ›¾ç»ä¹Ÿæ‹¥æœ‰è¿‡çˆ±ï¼Œåªæ˜¯ï¼Œæˆ‘æ”¾å¼ƒäº†ã€‚',
				'ä½ ä»¥ä¸ºæ¯å¤©çœ‹åˆ°çš„ä¸œè¥¿ï¼Œå°±ä¼šæŠ“å¾—ä½å—ï¼Ÿ',
				'ä¸–æœ‰æ— æƒ…äººï¼Œå´æœ‰ç—´æƒ…å¦–ã€‚',
				'å›å­ï¼Œå°äººï¼Œçš†åœ¨ä¸€å¿µæ€é‡ã€‚',
				'åˆ°å®¶äº†ï¼Œä¸€å®šè¦å«é†’æˆ‘ï¼Œæˆ‘æ€•æˆ‘é†’ä¸è¿‡æ¥ã€‚',
				'å¦‚æžœå¾—é“å°±æ˜¯ç‰ºç‰²æ‰€æœ‰äººæ¥æˆå…¨è‡ªå·±ï¼Œæˆ‘å®æ„¿æ‰§è¿·ä¸æ‚Ÿã€‚',
				'æˆ‘ä»¬ä»Šæ—¥ä¸€åˆ«ï¼Œè®©æˆ‘ä»¬åå¹´åŽå†ç›¸è§ï¼Œä¸è§ä¸æ•£ï¼',
				'ä¸€æ¯æ„ç»ªï¼Œå‡ æ®µæƒ…ç¼˜ï¼ŒèŽ«è¿‡ï¼Œä¸Žå›å¯¹é…’å½“æ­Œã€‚'
			]
		}
	];
	const navHeight = 48;
	const bottomHeight = 50;
	const height = window.innerHeight - navHeight - bottomHeight;
	/**
	 * @type {'base' | 'full' | 'none'}
	 */
	let radius: 'middle' | 'full' | 'none' = $state('middle');
	let dataFlag = $state(0);
	let scrollAlign = $state(true);
	let injClassList: string[] = $state([]);
	const changeRadiusFun = () => {
		radius = radius === 'middle' ? 'full' : radius === 'full' ? 'none' : 'middle';
	};
	const changeListFun = () => {
		dataFlag = dataFlag === 0 ? 1 : dataFlag === 1 ? 2 : 0;
	};
	const changeScrollAlignFun = () => {
		scrollAlign = !scrollAlign;
	};
	const changeClassFun = () => {
		injClassList = !injClassList.length ? ['!text-3xl text-center', 'text-xs text-center !py-1'] : [];
	};
	let visible = $state(false);
	let toastObj = $state({ index: 0, group: { title: '' }, childIndex: 0, child: '' });
</script>

{#if dataFlag === 0}
	<IndexBar
		data={addressList}
		{radius}
		{height}
		{scrollAlign}
		titleInjClass={injClassList[0]}
		textInjClass={injClassList[1]}
		top={navHeight}
		onclickChild={(index, group, childIndex, child) => {
			toastObj = { index, group, childIndex, child };
			visible = true;
		}}
	/>
{:else if dataFlag === 1}
	<IndexBar
		data={emojiList}
		{radius}
		{height}
		{scrollAlign}
		titleInjClass={injClassList[0]}
		textInjClass={injClassList[1]}
		top={navHeight}
		onclickChild={(index, group, childIndex, child) => {
			toastObj = { index, group, childIndex, child };
			visible = true;
		}}
	/>
{:else}
	<IndexBar
		data={movieTVList}
		{radius}
		{height}
		{scrollAlign}
		titleInjClass={injClassList[0]}
		textInjClass={injClassList[1]}
		top={navHeight}
		onclickChild={(index, group, childIndex, child) => {
			toastObj = { index, group, childIndex, child };
			visible = true;
		}}
	/>
{/if}
<Toast
	bind:visible
	message={`Clicked ${toastObj.index + 1} group(${toastObj.group.title}) ${toastObj.childIndex + 1} item(${toastObj.child})`}
/>

<div class="sticky bottom-0 z-10 flex justify-between bg-white/90 px-2 dark:bg-black/90">
	<Button fill="lineTheme" size="auto" injClass="text-xs px-2" onclick={changeListFun}>Switch data</Button>
	<Button fill="lineTheme" size="auto" injClass="text-xs px-2" onclick={changeScrollAlignFun}>
		{scrollAlign ? 'open' : 'close'} Align
	</Button>
	<Button fill="lineTheme" size="auto" injClass="text-xs px-2" onclick={changeRadiusFun}>Switch rounded</Button>
	<Button fill="lineTheme" size="auto" injClass="text-xs px-2" onclick={changeClassFun}>Switch style</Button>
</div>
