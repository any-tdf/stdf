<!-- IndexBar Demo -->
<script lang="ts">
	import { IndexBar, Button, Toast } from '$lib/index.js';
	import type { IndexBarItemProps } from '$lib/types/index.js';

	const addressList: IndexBarItemProps[] = [
		{ index: 'A', title: 'A', child: ['æ¾³é—¨', 'å®‰å®', 'å®‰åº†', 'éå±±'] },
		{ index: 'B', title: 'B', child: ['åŒ—äº¬', 'ä¿å®š', 'åŒ…å¤´', 'å®é¸¡'] },
		{ index: 'C', title: 'C', child: ['æ‰¿å¾·', 'æ²§å·', 'èµ¤å³°'] },
		{ index: 'D', title: 'D', child: ['å¤§åŒ', 'å¤§è¿', 'å¤§ç†'] },
		{ index: 'E', title: 'E', child: ['æ©æ–½', 'é„‚å°”å¤šæ–¯', 'å³¨çœ‰å±±'] },
		{ index: 'F', title: 'F', child: ['æŠšé¡º', 'ä½›å±±', 'ç¦æ³‰'] },
		{ index: 'G', title: 'G', child: ['ä¸ªæ—§', 'æ¡‚æ—', 'èµ£å·'] },
		{ index: 'H', title: 'H', child: ['é‚¯éƒ¸', 'å‘¼å’Œæµ©ç‰¹', 'å‘¼ä¼¦è´å°”'] },
		{ index: 'J', title: 'J', child: ['å‰æ—', 'é…’æ³‰', 'æ™‹æ±Ÿ'] },
		{ index: 'K', title: 'K', child: ['æ˜†æ˜', 'æ˜†å±±', 'å¼€å°'] },
		{ index: 'L', title: 'L', child: ['æ‹‰è¨', 'å…°å·', 'æ³¸å·'] },
		{ index: 'M', title: 'M', child: ['ç»µé˜³', 'é©¬éå±±', 'ç‰¡ä¸¹æ±Ÿ'] },
		{ index: 'N', title: 'N', child: ['å—æ˜Œ', 'å—äº¬', 'å®æ³¢'] },
		{ index: 'P', title: 'P', child: ['è†ç”°', 'æ”€æèŠ±', 'å¹³é¡¶å±±'] },
		{ index: 'Q', title: 'Q', child: ['æ›²é–', 'é’å²›', 'é½é½å“ˆå°”'] },
		{ index: 'R', title: 'R', child: ['ç‘ä¸½', 'ç‘å®‰', 'ç‘é‡‘'] },
		{ index: 'S', title: 'S', child: ['ä¸‰äºš', 'ä¸Šæµ·', 'æ·±åœ³'] },
		{ index: 'T', title: 'T', child: ['å°å·', 'å¤ªåŸ', 'å¤©æ´¥'] },
		{ index: 'W', title: 'W', child: ['æ­¦æ±‰', 'æ— é”¡', 'èŠœæ¹–'] },
		{ index: 'X', title: 'X', child: ['è¥¿å®‰', 'å¦é—¨', 'å®£å¨'] },
		{ index: 'Y', title: 'Y', child: ['ä¹‰ä¹Œ', 'é“¶å·', 'ç‰æºª'] },
		{ index: 'Z', title: 'Z', child: ['æ˜­é€š', 'éµä¹‰', 'å¼ å®¶ç•Œ'] }
	];
	const emojiList: IndexBarItemProps[] = [
		{ index: 'ğŸ˜€', title: 'è¡¨æƒ…ä¸æƒ…æ„Ÿ', child: ['ğŸ˜‚', 'ğŸ¥°', 'ğŸ¥±', 'ğŸ§'] },
		{ index: 'ğŸ‘‹', title: 'äººç‰©ä¸èº«ä½“', child: ['ğŸ‘Œ', 'ğŸ¤', 'ğŸ‘¨â€ğŸ’»', 'ğŸ’ª'] },
		{ index: 'ğŸµ', title: 'åŠ¨ç‰©ä¸è‡ªç„¶', child: ['ğŸ¦„', 'ğŸŒ±', 'ğŸ¦', 'ğŸ¶'] },
		{ index: 'ğŸ', title: 'é£Ÿç‰©ä¸é¥®æ–™', child: ['ğŸ‘', 'ğŸ', 'ğŸ½ï¸', 'ğŸ©'] },
		{ index: 'ğŸŒ', title: 'æ—…è¡Œä¸åœ°ç†', child: ['ğŸ”ï¸', 'ğŸš†', 'âœˆï¸', 'ğŸ›µ'] },
		{ index: 'ğŸ†', title: 'æ´»åŠ¨', child: ['âš½', 'ğŸ¨', 'ğŸ€', 'ğŸ§¨'] },
		{ index: 'ğŸ“±', title: 'ç‰©å“', child: ['ğŸ©', 'ğŸ’»', 'ğŸ’', 'ğŸ“–'] },
		{ index: 'âš ï¸', title: 'ç¬¦å·æ ‡å¿—', child: ['ğŸš«', 'âš›ï¸', 'ğŸ›„', 'ğŸ”±'] },
		{ index: 'ğŸ', title: 'æ——å¸œ', child: ['ğŸ‡¨ğŸ‡³', 'ğŸ‡ºğŸ‡¸', 'ğŸ‡§ğŸ‡»', 'ğŸ‡¦ğŸ‡¹'] }
	];
	const movieTVList: IndexBarItemProps[] = [
		{
			index: 'ä¸‰',
			title: 'ä¸‰ä½“',
			child: [
				'åœ°çƒå¾€äº‹',
				'é»‘æš—æ£®æ—',
				'æ­»ç¥æ°¸ç”Ÿ',
				'ç§‘å­¦è¾¹ç•Œ',
				'å°„æ‰‹å’Œå†œåœºä¸»',
				'å¯‚é™çš„æ˜¥å¤©',
				'å®‡å®™é—ªçƒ',
				'åœ°çƒå›å†›',
				'å¤ç­è¡ŒåŠ¨',
				'æ™ºå­',
				'é¢å£è€…',
				'å’’è¯­',
				'é»‘æš—æ£®æ—',
				'å±æœºçºªå…ƒ',
				'å¨æ…‘çºªå…ƒ',
				'å¹¿æ’­çºªå…ƒ',
				'æ©ä½“çºªå…ƒ',
				'é“¶æ²³çºªå…ƒ',
				'æ—¶é—´å¼€å§‹',
				'æ—¶é—´ä¹‹å¤–ï¼Œæˆ‘ä»¬çš„å®‡å®™'
			]
		},
		{
			index: 'æµ',
			title: 'æµæµªåœ°çƒ',
			child: [
				'äººç±»çš„å‹‡æ°”å’Œåšæ¯…å¿…å°†è¢«é•Œåˆ»åœ¨æ˜Ÿç©ºä¹‹ä¸‹ã€‚',
				'å¸Œæœ›æ˜¯åƒé’»çŸ³ä¸€æ ·çè´µçš„ä¸œè¥¿ï¼',
				'å¸Œæœ›ï¼Œå¸Œæœ›æ˜¯æˆ‘ä»¬å”¯ä¸€å›å®¶çš„æ–¹å‘ã€‚',
				'è®©äººç±»æ°¸è¿œä¿æŒç†æ™ºï¼Œæ˜¯ä¸€ç§å¥¢æ±‚ã€‚',
				'é“è·¯åƒä¸‡æ¡ï¼Œå®‰å…¨ç¬¬ä¸€æ¡ï¼›è¡Œè½¦ä¸è§„èŒƒï¼Œäº²äººä¸¤è¡Œæ³ªï¼',
				'é‚£æ—¶å€™äººä»¬è¿˜æ²¡æ³¨æ„åˆ°å¤ªé˜³ï¼Œäººä»¬æ›´å–œæ¬¢å«åšé’±çš„ä¸œè¥¿ã€‚',
				'ä¸ºäº†æˆ‘ä»¬çš„å­©å­ï¼Œæ²¡æœ‰ä»€ä¹ˆä¸èƒ½å¤±å»çš„äº†',
				'moss æ²¡æœ‰å›é€ƒï¼',
				'ç«çŸ³æ²¡äº†ï¼Œæˆ‘è€å©†å­©å­å…¨ä»–å¦ˆç™½æ­»äº†ï¼'
			]
		},
		{
			index: 'ä»™',
			title: 'ä»™å‰‘å¥‡ä¾ ä¼ ',
			child: [
				'æ—¢ä¸å›å¤´ï¼Œä½•å¿…ä¸å¿˜ã€‚æ—¢ç„¶æ— ç¼˜ï¼Œä½•å¿…èª“è¨€ã€‚',
				'æ²¡æœ‰å€¼å¾—ä¸å€¼å¾—ï¼Œåªæœ‰æ„¿æ„ä¸æ„¿æ„ã€‚',
				'ä¸æ›¾å¾—åˆ°ï¼Œè°ˆä½•æ”¾ä¸‹ã€‚æ—¢å·²å¾—åˆ°ï¼Œåˆå¦‚ä½•æ”¾ä¸‹ã€‚',
				'è½®å›çš„æ˜¯æ•…äººï¼Œä¸å˜çš„æ˜¯åˆå¿ƒï¼',
				'æ˜å¤•ä½•å¤•ï¼Œå›å·²é™Œè·¯ã€‚',
				'æˆ‘æ›¾ç»ä¹Ÿæ‹¥æœ‰è¿‡çˆ±ï¼Œåªæ˜¯ï¼Œæˆ‘æ”¾å¼ƒäº†ã€‚',
				'ä½ ä»¥ä¸ºæ¯å¤©çœ‹åˆ°çš„ä¸œè¥¿ï¼Œå°±ä¼šæŠ“å¾—ä½å—ï¼Ÿ',
				'ä¸–æœ‰æ— æƒ…äººï¼Œå´æœ‰ç—´æƒ…å¦–ã€‚',
				'å›å­ï¼Œå°äººï¼Œçš†åœ¨ä¸€å¿µæ€é‡ã€‚',
				'åˆ°å®¶äº†ï¼Œä¸€å®šè¦å«é†’æˆ‘ï¼Œæˆ‘æ€•æˆ‘é†’ä¸è¿‡æ¥ã€‚',
				'å¦‚æœå¾—é“å°±æ˜¯ç‰ºç‰²æ‰€æœ‰äººæ¥æˆå…¨è‡ªå·±ï¼Œæˆ‘å®æ„¿æ‰§è¿·ä¸æ‚Ÿã€‚',
				'æˆ‘ä»¬ä»Šæ—¥ä¸€åˆ«ï¼Œè®©æˆ‘ä»¬åå¹´åå†ç›¸è§ï¼Œä¸è§ä¸æ•£ï¼',
				'ä¸€æ¯æ„ç»ªï¼Œå‡ æ®µæƒ…ç¼˜ï¼Œè«è¿‡ï¼Œä¸å›å¯¹é…’å½“æ­Œã€‚'
			]
		}
	];
	const navHeight = 48;
	const bottomHeight = 50;
	const height = window.innerHeight - navHeight - bottomHeight;
	/**
	 * @type {'base' | 'full' | 'none'}
	 */
	let radius: 'middle' | 'full' | 'none' = $state('middle');
	let dataFlag = $state(0);
	let scrollAlign = $state(true);
	let injClassList: string[] = $state([]);
	const changeRadiusFun = () => {
		radius = radius === 'middle' ? 'full' : radius === 'full' ? 'none' : 'middle';
	};
	const changeListFun = () => {
		dataFlag = dataFlag === 0 ? 1 : dataFlag === 1 ? 2 : 0;
	};
	const changeScrollAlignFun = () => {
		scrollAlign = !scrollAlign;
	};
	const changeClassFun = () => {
		injClassList = !injClassList.length ? ['!text-3xl text-center', 'text-xs text-center !py-1'] : [];
	};
	let visible = $state(false);
	let toastObj = $state({ index: 0, group: { title: '' }, childIndex: 0, child: '' });
</script>

{#if dataFlag === 0}
	<IndexBar
		data={addressList}
		{radius}
		{height}
		{scrollAlign}
		titleInjClass={injClassList[0]}
		textInjClass={injClassList[1]}
		top={navHeight}
		onclickChild={(index, group, childIndex, child) => {
			toastObj = { index, group, childIndex, child };
			visible = true;
		}}
	/>
{:else if dataFlag === 1}
	<IndexBar
		data={emojiList}
		{radius}
		{height}
		{scrollAlign}
		titleInjClass={injClassList[0]}
		textInjClass={injClassList[1]}
		top={navHeight}
		onclickChild={(index, group, childIndex, child) => {
			toastObj = { index, group, childIndex, child };
			visible = true;
		}}
	/>
{:else}
	<IndexBar
		data={movieTVList}
		{radius}
		{height}
		{scrollAlign}
		titleInjClass={injClassList[0]}
		textInjClass={injClassList[1]}
		top={navHeight}
		onclickChild={(index, group, childIndex, child) => {
			toastObj = { index, group, childIndex, child };
			visible = true;
		}}
	/>
{/if}
<Toast
	bind:visible
	message={`ç‚¹å‡»äº†ç¬¬ ${toastObj.index + 1} ç»„ï¼ˆ${toastObj.group.title}ï¼‰ä¸­çš„ç¬¬ ${toastObj.childIndex + 1} é¡¹ï¼ˆ${toastObj.child}ï¼‰`}
/>

<div class="sticky bottom-0 z-10 flex justify-between bg-white/90 px-2 dark:bg-black/90">
	<Button fill="lineTheme" size="auto" injClass="text-xs px-2" onclick={changeListFun}>åˆ‡æ¢æ•°æ®</Button>
	<Button fill="lineTheme" size="auto" injClass="text-xs px-2" onclick={changeScrollAlignFun}>
		{scrollAlign ? 'å…³é—­' : 'å¼€å¯'}æ»šåŠ¨å¯¹é½
	</Button>
	<Button fill="lineTheme" size="auto" injClass="text-xs px-2" onclick={changeRadiusFun}>åˆ‡æ¢åœ†è§’</Button>
	<Button fill="lineTheme" size="auto" injClass="text-xs px-2" onclick={changeClassFun}>åˆ‡æ¢æ ·å¼</Button>
</div>
